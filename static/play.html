<!doctype html>
<html ng-app="entrotypeApp">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/play.css" />
    <script src="js/angular.min.js"></script>
    <script src="js/angular-route.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/jcanvas.min.js"></script>
    <script src="js/gameloop.js"></script>
    <script src="js/countdown.js"></script>
    <script src="js/pause.js"></script>
    <script src="js/skyfall.js"></script>
    <script src="js/gamescreen.js"></script>
    <script src="js/singlekeyscreen.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/kblayout.js"></script>
    <script src="js/keystats.js"></script>
    <script src="js/raphael-min.js"></script>
    <script src="js/kbsvg.js"></script>
    <script src="js/kbdrawstats.js"></script>
    <script src="js/app-controller.js"></script>
    <script src="js/app.js"></script>
    <script>
      $(function() {
        "strict";

        var layout = new KeyboardLayout(KeyboardLayout.LAYOUT.ansi_qwerty);

        function startGame() {
          var keySet = layout.query('');

          function makeSkyFall(parent, config) {
            return new SkyFall(parent, function() {
              var r = Math.floor(Math.random() * keySet.length);
              return keySet[r];
            }, config);
          }

          var gameParent = $('#game-container');

          gameParent.empty();
          var gs = new SingleKeyGameScreen(gameParent, makeSkyFall, {
            num: 1,
            countdownSeconds: 0,
            onstop: function() {
              draw_kb_stats(gs.noneDiv, layout, gs.stats, 'none');
              draw_kb_stats(gs.shiftDiv, layout, gs.stats, 'shift');
            },
          });

          gs.start();
        }

        //startGame();
      });
    </script>
  </head>
  <body>
    <div id="main" ng-view>
    </div>
  </body>
</html>

